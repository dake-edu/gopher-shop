import{_ as i,o as a,c as e,ae as t}from"./chunks/framework.CfVLvsAT.js";const d=JSON.parse('{"title":"12. The Architect (Interfaces)","description":"","frontmatter":{},"headers":[],"relativePath":"interfaces.md","filePath":"interfaces.md"}'),n={name:"interfaces.md"};function h(l,s,r,p,o,k){return a(),e("div",null,[...s[0]||(s[0]=[t(`<h1 id="_12-the-architect-interfaces" tabindex="-1">12. The Architect (Interfaces) <a class="header-anchor" href="#_12-the-architect-interfaces" aria-label="Permalink to &quot;12. The Architect (Interfaces)&quot;">​</a></h1><p>As your shop grows, you need flexibility. You might want to switch from Memory storage to PostgreSQL, or File storage. You don&#39;t want to rewrite your entire app every time.</p><h2 id="_12-1-the-universal-plug" tabindex="-1">12.1 The Universal Plug <a class="header-anchor" href="#_12-1-the-universal-plug" aria-label="Permalink to &quot;12.1 The Universal Plug&quot;">​</a></h2><p>An <strong>Interface</strong> is like a standard wall socket.</p><ul><li>The Wall Socket doesn&#39;t care if you plug in a Lamp, a TV, or a Vacuum.</li><li>It just guarantees: &quot;I provide electricity.&quot;</li></ul><h2 id="_12-2-defining-the-contract" tabindex="-1">12.2 Defining the Contract <a class="header-anchor" href="#_12-2-defining-the-contract" aria-label="Permalink to &quot;12.2 Defining the Contract&quot;">​</a></h2><p>In Go, an interface defines <strong>Behavior</strong> (what it <em>does</em>), not Data.</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BookRepository</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    GetAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() ([]</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Book</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    GetByID</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Book</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Any tool that has these two methods &quot;satisfies&quot; the interface and can be plugged in.</p><h2 id="_12-3-dependency-injection" tabindex="-1">12.3 Dependency Injection <a class="header-anchor" href="#_12-3-dependency-injection" aria-label="Permalink to &quot;12.3 Dependency Injection&quot;">​</a></h2><p>Instead of the app creating the storage, we <strong>give</strong> the storage to the app.</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;Hole in the wall&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Handler</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    repo </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">BookRepository</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Now we can plug in <em>anything</em> that fits the <code>BookRepository</code> shape.</p>`,13)])])}const g=i(n,[["render",h]]);export{d as __pageData,g as default};
