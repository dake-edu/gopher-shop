import{_ as e,o as i,c as t,ae as a}from"./chunks/framework.CfVLvsAT.js";const c=JSON.parse('{"title":"7. Talking to the World (HTTP)","description":"","frontmatter":{},"headers":[],"relativePath":"first-server.md","filePath":"first-server.md"}'),n={name:"first-server.md"};function h(l,s,r,o,p,d){return i(),t("div",null,[...s[0]||(s[0]=[a(`<h1 id="_7-talking-to-the-world-http" tabindex="-1">7. Talking to the World (HTTP) <a class="header-anchor" href="#_7-talking-to-the-world-http" aria-label="Permalink to &quot;7. Talking to the World (HTTP)&quot;">​</a></h1><p>Your Go program is fast and smart. But it is lonely. To let users verify it, we need <strong>HTTP</strong> (HyperText Transfer Protocol).</p><h2 id="_7-1-the-conversation" tabindex="-1">7.1 The Conversation <a class="header-anchor" href="#_7-1-the-conversation" aria-label="Permalink to &quot;7.1 The Conversation&quot;">​</a></h2><p>The web works on a simple conversation model:</p><ol><li><strong>Client (Browser)</strong>: &quot;Hey, give me the homepage.&quot; (<strong>Request</strong>)</li><li><strong>Server (Go)</strong>: &quot;Here is the HTML.&quot; (<strong>Response</strong>)</li></ol><h2 id="_7-2-the-handler-the-worker" tabindex="-1">7.2 The Handler (The Worker) <a class="header-anchor" href="#_7-2-the-handler-the-worker" aria-label="Permalink to &quot;7.2 The Handler (The Worker)&quot;">​</a></h2><p>In Go, we define a function to handle this conversation.</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">w</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> http</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ResponseWriter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Logic goes here</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="w-the-output-stream" tabindex="-1"><code>w</code> (The Output Stream) <a class="header-anchor" href="#w-the-output-stream" aria-label="Permalink to &quot;\`w\` (The Output Stream)&quot;">​</a></h3><p><code>http.ResponseWriter</code></p><ul><li>Think of this as a <strong>Pipe</strong> connected to the user&#39;s browser.</li><li>Whatever you write into this pipe (<code>fmt.Fprint(w, ...)</code>) appears on their screen.</li></ul><h3 id="r-the-envelope" tabindex="-1"><code>r</code> (The Envelope) <a class="header-anchor" href="#r-the-envelope" aria-label="Permalink to &quot;\`r\` (The Envelope)&quot;">​</a></h3><p><code>*http.Request</code></p><ul><li>This is the letter the user sent you.</li><li>It contains: <ul><li><strong>Method</strong>: GET (Read), POST (Write).</li><li><strong>URL</strong>: What page they want.</li><li><strong>Body</strong>: Data they sent.</li></ul></li></ul><h2 id="_7-3-the-switchboard-multiplexer" tabindex="-1">7.3 The Switchboard (Multiplexer) <a class="header-anchor" href="#_7-3-the-switchboard-multiplexer" aria-label="Permalink to &quot;7.3 The Switchboard (Multiplexer)&quot;">​</a></h2><p>You need to tell Go which function handles which page.</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;If they ask for &#39;/&#39;, call the Home function&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">http.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HandleFunc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, HomeHandler)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;If they ask for &#39;/about&#39;, call the About function&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">http.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HandleFunc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/about&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, AboutHandler)</span></span></code></pre></div><h2 id="_7-4-the-loop-listenandserve" tabindex="-1">7.4 The Loop (ListenAndServe) <a class="header-anchor" href="#_7-4-the-loop-listenandserve" aria-label="Permalink to &quot;7.4 The Loop (ListenAndServe)&quot;">​</a></h2><p>Finally, the server needs to start listening. It enters an infinite loop, waiting for phone calls.</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Listen on port 8081</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">http.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ListenAndServe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;:8081&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">nil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p><em>This program never ends until you kill it.</em></p>`,21)])])}const g=e(n,[["render",h]]);export{c as __pageData,g as default};
