import{_ as s,o as e,c as t,ae as i}from"./chunks/framework.CfVLvsAT.js";const g=JSON.parse('{"title":"Infrastructure & Persistence","description":"","frontmatter":{},"headers":[],"relativePath":"infrastructure.md","filePath":"infrastructure.md"}'),n={name:"infrastructure.md"};function r(l,a,o,p,h,c){return e(),t("div",null,[...a[0]||(a[0]=[i(`<h1 id="infrastructure-persistence" tabindex="-1">Infrastructure &amp; Persistence <a class="header-anchor" href="#infrastructure-persistence" aria-label="Permalink to &quot;Infrastructure &amp; Persistence&quot;">​</a></h1><h2 id="architecture-the-move-to-persistence" tabindex="-1">Architecture: The Move to Persistence <a class="header-anchor" href="#architecture-the-move-to-persistence" aria-label="Permalink to &quot;Architecture: The Move to Persistence&quot;">​</a></h2><div class="tip custom-block github-alert"><p class="custom-block-title">TIP</p><p>⚓ <strong>Visual Anchor:</strong> Application vs. Database</p></div><p>Up until now, our data lived in the <strong>Application Memory</strong>. If the app restarted, the data vanished. Use a <strong>Database</strong> to persist data forever.</p><div class="language-mermaid vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">graph LR</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subgraph Host_Machine</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        App[Go Application]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subgraph Docker_Container</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        DB[(PostgreSQL)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    end</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    App --&gt;|TCP/IP Connection| DB</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    DB --&gt;|Data Storage| Disk[Persistent Disk Volume]</span></span></code></pre></div><h2 id="why-a-real-database-pedagogy" tabindex="-1">Why a Real Database? (Pedagogy) <a class="header-anchor" href="#why-a-real-database-pedagogy" aria-label="Permalink to &quot;Why a Real Database? (Pedagogy)&quot;">​</a></h2><p>For a &quot;Middle&quot; level engineer, understanding databases is non-negotiable.</p><ol><li><strong>Persistence</strong>: RAM is volatile; Disk is permanent. We need to store user data safely.</li><li><strong>Concurrency</strong>: PostgreSQL handles multiple users reading/writing at the same time safely (ACID properties). A simple map/slice in Go needs careful Mutex locking to avoid race conditions.</li><li><strong>Scalability</strong>: The database engine is optimized to search millions of records efficiently (Indexing). Scanning a Go slice is O(N) and slow for large data.</li></ol><h2 id="running-the-database" tabindex="-1">Running the Database <a class="header-anchor" href="#running-the-database" aria-label="Permalink to &quot;Running the Database&quot;">​</a></h2><p>We use <strong>Docker Compose</strong> to spin up PostgreSQL without installing it on your host machine.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span></code></pre></div><p>Check the <code>.env.example</code> file for connection details.</p>`,12)])])}const u=s(n,[["render",r]]);export{g as __pageData,u as default};
