import{_ as t,o as a,c as s,ae as o}from"./chunks/framework.CfVLvsAT.js";const g=JSON.parse('{"title":"Chapter 20: In-Memory Store","description":"","frontmatter":{},"headers":[],"relativePath":"memory-store.md","filePath":"memory-store.md"}'),i={name:"memory-store.md"};function n(r,e,l,h,d,p){return a(),s("div",null,[...e[0]||(e[0]=[o('<h1 id="chapter-20-in-memory-store" tabindex="-1">Chapter 20: In-Memory Store <a class="header-anchor" href="#chapter-20-in-memory-store" aria-label="Permalink to &quot;Chapter 20: In-Memory Store&quot;">â€‹</a></h1><h2 id="_20-1-the-map-hash-table" tabindex="-1">20.1 The Map (Hash Table) <a class="header-anchor" href="#_20-1-the-map-hash-table" aria-label="Permalink to &quot;20.1 The Map (Hash Table)&quot;">â€‹</a></h2><p>We need a way to find a Book by its ID instantly. In Computer Science, this is a <strong>Hash Map</strong> (or Dictionary).</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> storage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> make</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Book</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="anatomy-of-the-declaration" tabindex="-1">Anatomy of the Declaration <a class="header-anchor" href="#anatomy-of-the-declaration" aria-label="Permalink to &quot;Anatomy of the Declaration&quot;">â€‹</a></h3><ol><li><strong><code>var</code></strong>: Create a variable.</li><li><strong><code>make</code></strong>: <strong>Crucial Keyword</strong>. Maps must be initialized before use. <ul><li>If you just did <code>var m map[string]int</code>, it is <code>nil</code>. Writing to it causes a <strong>Panic</strong> (Crash).</li><li><code>make</code> allocates the memory bucket for the map.</li></ul></li><li><strong><code>map</code></strong>: The type.</li><li><strong><code>[string]</code></strong>: The Key Type (The ID is a string).</li><li><strong><code>Book</code></strong>: The Value Type (The full Book struct).</li></ol><h2 id="_20-2-pointers-vs-values-book-vs-book" tabindex="-1">20.2 Pointers vs Values (<code>*Book</code> vs <code>Book</code>) <a class="header-anchor" href="#_20-2-pointers-vs-values-book-vs-book" aria-label="Permalink to &quot;20.2 Pointers vs Values (`*Book` vs `Book`)&quot;">â€‹</a></h2><p>This is the hardest concept for beginners coming from Python/JS.</p><div class="language-go vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GetBook</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Book</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Returns a Pointer (Address)</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GetBook</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Book</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   // Returns a Value (Photocopy)</span></span></code></pre></div><h3 id="the-metaphor" tabindex="-1">The Metaphor <a class="header-anchor" href="#the-metaphor" aria-label="Permalink to &quot;The Metaphor&quot;">â€‹</a></h3><ul><li><strong>Value (<code>Book</code>)</strong>: You ask for the Mona Lisa. I take a <strong>Photocopy</strong> and hand it to you. If you draw a mustache on the copy, the real Mona Lisa is unchanged.</li><li><strong>Pointer (<code>*Book</code>)</strong>: You ask for the Mona Lisa. I write <strong>&quot;Room 303, Wall 2&quot;</strong> on a card and hand it to you. If you go there and draw a mustache, the real painting is changed forever.</li></ul><h3 id="why-use-pointers" tabindex="-1">Why use Pointers? <a class="header-anchor" href="#why-use-pointers" aria-label="Permalink to &quot;Why use Pointers?&quot;">â€‹</a></h3><ol><li><strong>Performance</strong>: Copying a huge book is slow. Passing a small address card is fast.</li><li><strong>Mutability</strong>: We <em>want</em> to modify the original (e.g., updating the price).</li></ol><h3 id="comparison-memory" tabindex="-1">Comparison: Memory <a class="header-anchor" href="#comparison-memory" aria-label="Permalink to &quot;Comparison: Memory&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th style="text-align:left;">Language</th><th style="text-align:left;">Default Behavior</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>Python</strong></td><td style="text-align:left;">Everything is a Reference (Pointer-like).</td></tr><tr><td style="text-align:left;"><strong>Java</strong></td><td style="text-align:left;">Objects are References. Primitives (<code>int</code>) are Values.</td></tr><tr><td style="text-align:left;"><strong>Go</strong></td><td style="text-align:left;">Everything is a <strong>Value</strong> (Copy) by default. You must explicitly ask for a Pointer (<code>*</code>).</td></tr></tbody></table><details class="details custom-block"><summary>ðŸŽ“ Knowledge Check: If I pass a <code>Book</code> (not <code>*Book</code>) to a function and change its title, what happens to the original book?</summary><p><strong>Answer</strong>: Nothing! You only changed the <strong>photocopy</strong>. The original book remains untouched. To change the original, you must pass a <strong>Pointer</strong> (<code>*Book</code>).</p></details>',16)])])}const k=t(i,[["render",n]]);export{g as __pageData,k as default};
